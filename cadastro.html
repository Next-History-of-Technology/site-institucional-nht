<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="stylesheet" href="./styles/cadastro.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <main class="container">
        <div class="banner-container">
            <a href="./index.html" class="link_voltar">
                <i class="fa-solid fa-arrow-up-right-from-square"></i>
                Voltar
            </a>

            <h1>Bem-vindo à
                <br>
                tela de cadastro
            </h1>
        </div>

        <div class="cadastro-container">
            <img src="./assets//Logo-nht.png" alt="Logo Next History Technology">
            <h2>Cadastre-se</h2>

            <div class="inputs-container">
                <div class="dupla-input">
                    <label>
                        Email
                        <br>
                        <div>
                            <input type="email" placeholder="Email" id="input_email" oninput="validarEmail()">
                            <span id="email_span"></span>
                        </div>
                    </label>

                    <label>
                        Nome
                        <br>
                        <input type="text" placeholder="Nome" id="input_nome" oninput="validarNome()">
                    </label>
                </div>


                <div class="dupla-input">
                    <label>
                        Telefone
                        <br>
                        <input type="text" placeholder="Telefone" id="input_telefone" oninput="validarTelefone()">
                    </label>

                    <label>
                        CPF
                        <br>
                        <input type="text" placeholder="CPF" id="input_cpf">
                    </label>
                </div>


                <div class="dupla-input">
                    <label>
                        Senha
                        <br>
                        <input type="password" placeholder="Senha" id="input_senha">
                    </label>

                    <label>
                        Confirmar senha
                        <br>
                        <input type="password" placeholder="Confirme a senha" id="input_confirmar_senha">
                    </label>
                </div>

            </div>

            <button onclick="cadastrar()">Cadastrar</button>

            <p>Já é cadastrado? <a href="./login.html">Acesse sua conta!</a></p>
        </div>
    </main>
</body>

</html>
<script>
    function cadastrar() {
        var email = input_email.value
        var nome = input_nome.value
        var telefone = input_telefone.value
        var cpf = input_cpf.value
        var senha = input_senha.value
        var repetirSenha = input_confirmar_senha.value

        if (!email || !nome || !telefone || !cpf || !senha || !repetirSenha) {
            alert('Preencha os dados corretamente!')
        } else if (senha !== repetirSenha) {
            alert('As senhas precisam ser iguais!')
        }
        else {
            alert('Usuário cadastrado com sucesso!')
        }
    }

    function validarEmail() {
        var email = input_email.value

        while (email.includes('@') &&
            email.endsWith('sptech.school') ||
            email.endsWith('.com') ||
            email.endsWith('.com.br')) {
            input_email.style.border = 'solid 2px #28DF99'

            email_span.innerHTML = ''

            return
        }

        input_email.style.border = 'solid 2px red'
        email_span.innerHTML = 'Formato de email inválido'

        email_span.style.color = 'red'
    }

    function validarNome() {
        var nome = input_nome.value

        while (nome == '') {
            input_nome.style.border = 'solid 2px red'

            return
        }

        input_nome.style.border = 'solid 2px #28DF99'
    }

    function validarTelefone() {
        var telefone = input_telefone.value
    }
</script>